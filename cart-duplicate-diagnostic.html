<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ã‚«ãƒ¼ãƒˆé‡è¤‡è¨ºæ–­ãƒ„ãƒ¼ãƒ«</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      max-width: 900px;
      margin: 40px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    
    .container {
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    
    h1 {
      color: #2D5F3F;
      margin-bottom: 10px;
    }
    
    .subtitle {
      color: #666;
      margin-bottom: 30px;
    }
    
    .instruction {
      background: #e3f2fd;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 30px;
      border-left: 4px solid #2196f3;
    }
    
    .instruction h3 {
      margin-top: 0;
      color: #1976d2;
    }
    
    .instruction ol {
      margin: 0;
      padding-left: 20px;
    }
    
    .instruction li {
      margin-bottom: 10px;
    }
    
    .code-block {
      background: #2d3748;
      color: #e2e8f0;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      margin-top: 15px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      line-height: 1.6;
    }
    
    .warning {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    
    .warning strong {
      color: #856404;
    }
    
    .result-section {
      margin-top: 30px;
      padding: 20px;
      background: #f9f9f9;
      border-radius: 8px;
    }
    
    .result-section h3 {
      color: #2D5F3F;
      margin-top: 0;
    }
    
    button {
      background: #2D5F3F;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: background 0.3s;
    }
    
    button:hover {
      background: #1f4229;
    }
    
    .copy-btn {
      background: #2196f3;
      font-size: 14px;
      padding: 8px 16px;
      margin-top: 10px;
    }
    
    .copy-btn:hover {
      background: #1976d2;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ” ã‚«ãƒ¼ãƒˆé‡è¤‡è¨ºæ–­ãƒ„ãƒ¼ãƒ«</h1>
    <p class="subtitle">ã‚«ãƒ¼ãƒˆãŒ2ã¤è¡¨ç¤ºã•ã‚Œã‚‹å•é¡Œã‚’è¨ºæ–­ã—ã¾ã™</p>
    
    <div class="warning">
      <strong>âš ï¸ é‡è¦:</strong> ã“ã®ãƒ„ãƒ¼ãƒ«ã¯Shopifyã®ã‚«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ã§å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
    </div>
    
    <div class="instruction">
      <h3>ğŸ“‹ å®Ÿè¡Œæ‰‹é †</h3>
      <ol>
        <li>Shopifyã‚¹ãƒˆã‚¢ã®<strong>ã‚«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸</strong>ã‚’é–‹ã (ä¾‹: yourstore.myshopify.com/cart)</li>
        <li>ãƒ–ãƒ©ã‚¦ã‚¶ã®<strong>é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«</strong>ã‚’é–‹ã (F12ã‚­ãƒ¼ã¾ãŸã¯å³ã‚¯ãƒªãƒƒã‚¯â†’ã€Œæ¤œè¨¼ã€)</li>
        <li><strong>Console</strong>ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
        <li>ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è²¼ã‚Šä»˜ã‘ã¦å®Ÿè¡Œ</li>
        <li>çµæœã‚’ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã—ã¦å…±æœ‰ã—ã¦ãã ã•ã„</li>
      </ol>
    </div>
    
    <h3>ğŸ”§ è¨ºæ–­ã‚³ãƒ¼ãƒ‰</h3>
    <div class="code-block" id="diagnostic-code">console.log('=== ã‚«ãƒ¼ãƒˆé‡è¤‡è¨ºæ–­ ===');
console.log('');

// 1. cart-section ã‚¯ãƒ©ã‚¹ã‚’æŒã¤è¦ç´ ã®æ•°ã‚’ç¢ºèª
const cartSections = document.querySelectorAll('.cart-section');
console.log('1. cart-sectionè¦ç´ ã®æ•°:', cartSections.length);
cartSections.forEach((section, index) => {
  console.log(`   - cart-section #${index + 1}:`, section);
  console.log('     è¦ªè¦ç´ :', section.parentElement);
  console.log('     HTMLã®æœ€åˆã®100æ–‡å­—:', section.innerHTML.substring(0, 100));
});
console.log('');

// 2. cart-title ã‚¯ãƒ©ã‚¹ã‚’æŒã¤è¦ç´ ã®æ•°ã‚’ç¢ºèª
const cartTitles = document.querySelectorAll('.cart-title');
console.log('2. cart-titleè¦ç´ ã®æ•°:', cartTitles.length);
cartTitles.forEach((title, index) => {
  console.log(`   - cart-title #${index + 1}:`, title.textContent);
  console.log('     è¦ªè¦ç´ :', title.parentElement.className);
});
console.log('');

// 3. cart-item ã‚¯ãƒ©ã‚¹ã‚’æŒã¤è¦ç´ ã®æ•°ã‚’ç¢ºèª
const cartItems = document.querySelectorAll('.cart-item');
console.log('3. cart-itemè¦ç´ ã®æ•°:', cartItems.length);
console.log('');

// 4. cart-form ã®æ•°ã‚’ç¢ºèª
const cartForms = document.querySelectorAll('#cart-form');
console.log('4. cart-formè¦ç´ ã®æ•°:', cartForms.length);
cartForms.forEach((form, index) => {
  console.log(`   - cart-form #${index + 1}:`, form);
});
console.log('');

// 5. ãƒšãƒ¼ã‚¸å…¨ä½“ã®HTMLæ§‹é€ ã‚’ç¢ºèª
const mainContent = document.getElementById('MainContent');
if (mainContent) {
  console.log('5. MainContentå†…ã®æ§‹é€ :');
  console.log('   å­è¦ç´ ã®æ•°:', mainContent.children.length);
  Array.from(mainContent.children).forEach((child, index) => {
    console.log(`   - å­è¦ç´  #${index + 1}:`, child.className || child.tagName);
  });
} else {
  console.log('5. MainContentè¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
}
console.log('');

// 6. section ã‚¿ã‚°ã®æ•°ã‚’ç¢ºèª
const sectionTags = document.querySelectorAll('section');
console.log('6. section ã‚¿ã‚°ã®æ•°:', sectionTags.length);
console.log('');

// 7. ã‚«ãƒ¼ãƒˆé–¢é€£ã®ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’ç¢ºèª
const cartContainers = document.querySelectorAll('[class*="cart"]');
console.log('7. "cart"ã‚’å«ã‚€ã‚¯ãƒ©ã‚¹ã‚’æŒã¤è¦ç´ ã®æ•°:', cartContainers.length);
const uniqueClasses = new Set();
cartContainers.forEach(el => {
  if (el.className) {
    el.className.split(' ').forEach(cls => {
      if (cls.includes('cart')) {
        uniqueClasses.add(cls);
      }
    });
  }
});
console.log('   ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªcarté–¢é€£ã‚¯ãƒ©ã‚¹:', Array.from(uniqueClasses));
console.log('');

// 8. è¦–è¦šçš„ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‚«ãƒ¼ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æ•°
const visibleCartSections = Array.from(cartSections).filter(section => {
  const rect = section.getBoundingClientRect();
  const style = window.getComputedStyle(section);
  return rect.height > 0 && style.display !== 'none' && style.visibility !== 'hidden';
});
console.log('8. è¦–è¦šçš„ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹cart-sectionã®æ•°:', visibleCartSections.length);
visibleCartSections.forEach((section, index) => {
  const rect = section.getBoundingClientRect();
  console.log(`   - cart-section #${index + 1} ä½ç½®:`, {
    top: rect.top,
    left: rect.left,
    width: rect.width,
    height: rect.height
  });
});
console.log('');

console.log('=== è¨ºæ–­å®Œäº† ===');
console.log('ã“ã®çµæœã‚’ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã—ã¦å…±æœ‰ã—ã¦ãã ã•ã„');
</div>
    
    <button class="copy-btn" onclick="copyCode()">ğŸ“‹ ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
    
    <div class="result-section">
      <h3>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹çµæœ</h3>
      <p><strong>æ­£å¸¸ãªå ´åˆ:</strong></p>
      <ul>
        <li>cart-sectionè¦ç´ ã®æ•°: <strong>1</strong></li>
        <li>cart-titleè¦ç´ ã®æ•°: <strong>1</strong></li>
        <li>cart-formè¦ç´ ã®æ•°: <strong>1</strong></li>
        <li>è¦–è¦šçš„ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹cart-sectionã®æ•°: <strong>1</strong></li>
      </ul>
      
      <p><strong>å•é¡ŒãŒã‚ã‚‹å ´åˆ:</strong></p>
      <ul>
        <li>ä¸Šè¨˜ã®ã„ãšã‚Œã‹ãŒ <strong>2ä»¥ä¸Š</strong> ã®å ´åˆã€é‡è¤‡ãŒç™ºç”Ÿã—ã¦ã„ã¾ã™</li>
        <li>çµæœã‚’ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã—ã¦å…±æœ‰ã—ã¦ãã ã•ã„</li>
      </ul>
    </div>
    
    <div class="instruction" style="margin-top: 30px; background: #f3e5f5; border-left-color: #9c27b0;">
      <h3 style="color: #7b1fa2;">ğŸ” è¿½åŠ ãƒã‚§ãƒƒã‚¯: Shopifyãƒ†ãƒ¼ãƒã‚¨ãƒ‡ã‚£ã‚¿ã§ã®ç¢ºèª</h3>
      <ol>
        <li><strong>Shopifyç®¡ç†ç”»é¢</strong> â†’ <strong>ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ãƒˆã‚¢</strong> â†’ <strong>ãƒ†ãƒ¼ãƒ</strong></li>
        <li><strong>ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</strong>ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
        <li>ä¸Šéƒ¨ã®ãƒšãƒ¼ã‚¸é¸æŠã§<strong>ã€Œã‚«ãƒ¼ãƒˆã€</strong>ã‚’é¸æŠ</li>
        <li>å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã§<strong>ã‚»ã‚¯ã‚·ãƒ§ãƒ³</strong>ã‚’ç¢ºèª</li>
        <li><strong>ã€ŒCart Sectionã€ãŒ2ã¤ä»¥ä¸Šè¿½åŠ ã•ã‚Œã¦ã„ãªã„ã‹</strong>ç¢ºèª</li>
        <li>ã‚‚ã—2ã¤ã‚ã‚‹å ´åˆã¯ã€1ã¤ã‚’å‰Šé™¤ã—ã¦ãã ã•ã„</li>
      </ol>
    </div>
  </div>

  <script>
    function copyCode() {
      const codeBlock = document.getElementById('diagnostic-code');
      const textArea = document.createElement('textarea');
      textArea.value = codeBlock.textContent;
      document.body.appendChild(textArea);
      textArea.select();
      document.execCommand('copy');
      document.body.removeChild(textArea);
      
      const btn = event.target;
      const originalText = btn.textContent;
      btn.textContent = 'âœ“ ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼';
      setTimeout(() => {
        btn.textContent = originalText;
      }, 2000);
    }
  </script>
</body>
</html>
